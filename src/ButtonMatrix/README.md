Данный проект представляет собой драйвер для матричной клавиатуры размером 3x3 на базе микроконтроллера ATmega328P (Arduino Uno). В качестве элементов используются ползунковые переключатели, что позволяет симулировать одновременные нажатия нескольких кнопок.

### Основные возможности
1.  **Построчное сканирование:** Применяется Timer1 для генерации периодических прерываний, в обработчике которых происходит последовательный опрос каждой строки матрицы.
2.  **Обнаружение изменений:** Система фиксирует переходы состояний кнопок. Вывод в Serial Monitor происходит только при изменении статуса (нажатие или отпускание).
3.  **Логирование событий:** При любом изменении состояния отображается список всех нажатых в данный момент кнопок.
4.  **Хронометраж:** При отпускании кнопки выводятся длительность удержания и момент начала нажатия (в миллисекундах).

## Схема подключения
Сборка выполнена на базе Arduino Uno.

### Распиновка (Port D)
*   **Строки (Rows) - Выходы:**
    *   Row 1: Pin 2 (PD2)
    *   Row 2: Pin 3 (PD3)
    *   Row 3: Pin 4 (PD4)
*   **Столбцы (Cols) - Входы (Input Pull-up):**
    *   Col 1: Pin 5 (PD5)
    *   Col 2: Pin 6 (PD6)
    *   Col 3: Pin 7 (PD7)

## Особенности реализации

### Работа через регистры (Задача 0a)
Вместо стандартных функций `pinMode` и `digitalWrite` применяется прямое управление регистрами `DDRD`, `PORTD` и `PIND`.
*   Маска строк: Биты 2, 3, 4 порта D.
*   Маска столбцов: Биты 5, 6, 7 порта D.
    Чтение состояния выполняется одним обращением к регистру `PIND` с применением битовых масок.

### Использование таймера (Задача 0b)
Применяется таймер **Timer1** в режиме CTC (Clear Timer on Compare Match).
*   Частота прерываний настроена таким образом, что опрос одной строки происходит примерно каждые 4 мс.
*   Полный цикл обновления всей матрицы (3 строки) занимает около 12 мс, что обеспечивает надежное подавление дребезга контактов и высокую отзывчивость системы.

### Организация вывода
Основной цикл `loop()` не выполняет опрос аппаратной части. Он проверяет изменения в состоянии кнопок (путем сравнения текущего и предыдущего состояния) и формирует вывод в UART. Это разделяет задачи сбора данных в реальном времени и задач интерфейса (медленный I/O).

[Симуляция в Tinkercad](https://www.tinkercad.com/things/6kBA13Zl0Uj-buttonmatrix)